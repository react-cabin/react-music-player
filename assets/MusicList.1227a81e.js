import{z as V,j as d,_ as T,d as S,b as _,A as w,k as A,q as $,v as D,f as k,t as g,T as H,B as G,i as E,C as O,D as P,c as h,e as I,u as n,l as R,S as m,h as N,E as W,p as M,s as Z,x as q,r as U,F as J,G as K}from"./index.d2962e88.js";var Q={size:"1em",strokeWidth:4,strokeLinecap:"round",strokeLinejoin:"round",rtl:!1,theme:"outline",colors:{outline:{fill:"#333",background:"transparent"},filled:{fill:"#333",background:"#FFF"},twoTone:{fill:"#333",twoTone:"#2F88FF"},multiColor:{outStrokeColor:"#333",outFillColor:"#2F88FF",innerStrokeColor:"#FFF",innerFillColor:"#43CCF8"}},prefix:"i"};function X(){return"icon-"+((1+Math.random())*4294967296|0).toString(16).substring(1)}function Y(e,i,s){var t=typeof i.fill=="string"?[i.fill]:i.fill||[],o=[],l=i.theme||s.theme;switch(l){case"outline":o.push(typeof t[0]=="string"?t[0]:"currentColor"),o.push("none"),o.push(typeof t[0]=="string"?t[0]:"currentColor"),o.push("none");break;case"filled":o.push(typeof t[0]=="string"?t[0]:"currentColor"),o.push(typeof t[0]=="string"?t[0]:"currentColor"),o.push("#FFF"),o.push("#FFF");break;case"two-tone":o.push(typeof t[0]=="string"?t[0]:"currentColor"),o.push(typeof t[1]=="string"?t[1]:s.colors.twoTone.twoTone),o.push(typeof t[0]=="string"?t[0]:"currentColor"),o.push(typeof t[1]=="string"?t[1]:s.colors.twoTone.twoTone);break;case"multi-color":o.push(typeof t[0]=="string"?t[0]:"currentColor"),o.push(typeof t[1]=="string"?t[1]:s.colors.multiColor.outFillColor),o.push(typeof t[2]=="string"?t[2]:s.colors.multiColor.innerStrokeColor),o.push(typeof t[3]=="string"?t[3]:s.colors.multiColor.innerFillColor);break}return{size:i.size||s.size,strokeWidth:i.strokeWidth||s.strokeWidth,strokeLinecap:i.strokeLinecap||s.strokeLinecap,strokeLinejoin:i.strokeLinejoin||s.strokeLinejoin,colors:o,id:e}}var ee=Symbol("icon-context");function B(e,i,s){var t={name:"icon-"+e,props:["size","strokeWidth","strokeLinecap","strokeLinejoin","theme","fill","spin"],setup:function(l){var c=X(),u=V(ee,Q);return function(){var f=l.size,L=l.strokeWidth,C=l.strokeLinecap,v=l.strokeLinejoin,r=l.theme,a=l.fill,y=l.spin,b=Y(c,{size:f,strokeWidth:L,strokeLinecap:C,strokeLinejoin:v,theme:r,fill:a},u),p=[u.prefix+"-icon"];return p.push(u.prefix+"-icon-"+e),i&&u.rtl&&p.push(u.prefix+"-icon-rtl"),y&&p.push(u.prefix+"-icon-spin"),d("span",{class:p.join(" ")},[s(b)])}}};return t}var te=B("folder-download",!0,function(e){return d("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},[d("path",{d:"M5 8C5 6.89543 5.89543 6 7 6H19L24 12H41C42.1046 12 43 12.8954 43 14V40C43 41.1046 42.1046 42 41 42H7C5.89543 42 5 41.1046 5 40V8Z",fill:e.colors[1],stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linejoin":e.strokeLinejoin},null),d("path",{d:"M30 28L23.9933 34L18 28.0134",stroke:e.colors[2],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),d("path",{d:"M24 20V34",stroke:e.colors[2],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null)])}),oe=B("delete",!1,function(e){return d("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},[d("path",{d:"M9 10V44H39V10H9Z",fill:e.colors[1],stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linejoin":e.strokeLinejoin},null),d("path",{d:"M20 20V33",stroke:e.colors[2],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),d("path",{d:"M28 20V33",stroke:e.colors[2],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),d("path",{d:"M4 10H44",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),d("path",{d:"M16 10L19.289 4H28.7771L32 10H16Z",fill:e.colors[1],stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linejoin":e.strokeLinejoin},null)])});const se={class:"mt-toast"},ie={class:"mt-toast__text"},ne=S({name:"Toast",props:{text:null,show:{type:Boolean}},setup(e){return(i,s)=>(_(),w(H,{name:"mt-toast"},{default:A(()=>[$(k("div",se,[k("div",ie,g(e.text),1)],512),[[D,e.show]])]),_:1}))}});var re=T(ne,[["__scopeId","data-v-063c418e"]]);let F,j,x;function z({text:e,duration:i=2e3,appendTo:s=document.body}){F&&(clearTimeout(F),t()),j=G(re,{text:e,show:!0}),x=document.createElement("div"),s.appendChild(x),j.mount(x),F=setTimeout(()=>{t(),F=void 0},i);function t(){j.unmount(),s.removeChild(x)}}const le=e=>(Z("data-v-80150c6a"),e=e(),q(),e),ae={class:"flex items-center"},ce=["src","alt"],ue={class:"ml-2.5 text-sm text-gray-800"},de={class:"text-xs text-gray-500"},ke=le(()=>k("i",{class:"mx-1.5"},"-",-1)),he=S({name:"MusicItem",props:{musicItem:null,currentTab:null},setup(e){const i=e,s=E(),t=O(),{musicItem:o,currentTab:l}=P(i),c=h(()=>s.currentSong),u=h(()=>{var r,a;return o.value.title===((r=c.value)==null?void 0:r.title)&&o.value.artist===((a=c.value)==null?void 0:a.artist)}),f=h(()=>t.localMusics),L=h(()=>!!f.value.find(r=>r.title===o.value.title&&r.artist===o.value.artist)),C=()=>{t.addToLocal(o.value),z({text:"\u5DF2\u6DFB\u52A0\u5230\u672C\u5730"})},v=()=>{t.removeFromLocal(o.value),z({text:"\u79FB\u9664\u6210\u529F"})};return(r,a)=>(_(),I("li",{class:M(["music-item",{"is-active":n(u)}])},[k("div",ae,[k("img",{class:"w-10 h-10",src:n(o).cover,alt:n(o).title},null,8,ce),k("span",ue,g(n(o).title),1),k("span",de,[ke,R(g(n(o).artist),1)])]),n(m).ONLINE===n(l)&&!n(L)?(_(),w(n(te),{key:0,class:"p-2",theme:"outline",size:"16",fill:"#333",onClick:N(C,["stop"])},null,8,["onClick"])):W("",!0),n(m).LOCALE===n(l)?(_(),w(n(oe),{key:1,class:"p-2",theme:"outline",size:"16",fill:"#333",onClick:N(v,["stop"])},null,8,["onClick"])):W("",!0)],2))}});var ve=T(he,[["__scopeId","data-v-80150c6a"]]);const me={class:"musiclist mt-8"},_e={class:"music-tabs"},fe=S({name:"MusicList",setup(e){const i=E(),s=O(),t=h(()=>s.currentTab),o=h(()=>s.onlineMusics),l=h(()=>s.localMusics),c=U(t.value),u=h(()=>c.value===m.ONLINE?o.value:l.value),f=v=>{c.value=v},L=(v,r)=>{s.setCurrentTab(c.value),i.selectPlay({sequenceList:u.value,currentIndex:r})};C();function C(){s.fetchMusics()}return(v,r)=>(_(),I("div",me,[k("div",_e,[k("span",{class:M({"is-active":c.value===n(m).LOCALE}),onClick:r[0]||(r[0]=a=>f(n(m).LOCALE))},"\u672C\u5730",2),k("span",{class:M(["ml-2.5",{"is-active":c.value===n(m).ONLINE}]),onClick:r[1]||(r[1]=a=>f(n(m).ONLINE))},"\u5728\u7EBF",2)]),(_(!0),I(J,null,K(n(u),(a,y)=>(_(),w(ve,{key:a.title+a.artist,"music-item":a,"current-tab":c.value,onClick:b=>L(a,y)},null,8,["music-item","current-tab","onClick"]))),128))]))}});var Ce=T(fe,[["__scopeId","data-v-d43f23e0"]]);export{Ce as default};
