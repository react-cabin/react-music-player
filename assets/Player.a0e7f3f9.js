import{I as m,c as t,g as ne,o as ie,w as A,u as s,_ as p,d as ee,r as M,a as h,b as se,e as j,f as te,h as r,n as E,i as b,j as D,P as F,k as re,t as P,l as oe,m as q,p as H,q as R,s as ae,v as le,x as ce,y as de,z as ue,A as V,B as he}from"./index.8030a3e7.js";var ke=m("go-end",!0,function(e){return t("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},[t("path",{d:"M14 12L26 24L14 36",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),t("path",{d:"M34 12V36",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null)])}),fe=m("go-start",!0,function(e){return t("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},[t("path",{d:"M34 36L22 24L34 12",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),t("path",{d:"M14 12V36",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null)])}),ge=m("pause-one",!1,function(e){return t("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},[t("path",{d:"M24 44C35.0457 44 44 35.0457 44 24C44 12.9543 35.0457 4 24 4C12.9543 4 4 12.9543 4 24C4 35.0457 12.9543 44 24 44Z",fill:e.colors[1],stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linejoin":e.strokeLinejoin},null),t("path",{d:"M19 18V30",stroke:e.colors[2],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),t("path",{d:"M29 18V30",stroke:e.colors[2],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null)])}),ve=m("play",!0,function(e){return t("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},[t("path",{d:"M24 44C35.0457 44 44 35.0457 44 24C44 12.9543 35.0457 4 24 4C12.9543 4 4 12.9543 4 24C4 35.0457 12.9543 44 24 44Z",fill:e.colors[1],stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linejoin":e.strokeLinejoin},null),t("path",{d:"M20 24V17.0718L26 20.5359L32 24L26 27.4641L20 30.9282V24Z",fill:e.colors[3],stroke:e.colors[2],"stroke-width":e.strokeWidth,"stroke-linejoin":e.strokeLinejoin},null)])}),me=m("play-cycle",!0,function(e){return t("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},[t("path",{d:"M4 25C4 18.3502 9.39624 13 16 13H44",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),t("path",{d:"M38 7L44 13L38 19",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),t("path",{d:"M44 23C44 29.6498 38.6038 35 32 35H4",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),t("path",{d:"M10 41L4 35L10 29",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null)])}),we=m("play-once",!0,function(e){return t("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},[t("path",{d:"M43.8233 25.2305C43.7019 25.9889 43.5195 26.727 43.2814 27.4395C42.763 28.9914 41.9801 30.4222 40.9863 31.6785C38.4222 34.9201 34.454 37 30 37H16C9.39697 37 4 31.6785 4 25C4 18.3502 9.39624 13 16 13H44",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),t("path",{d:"M38 7L44 13L38 19",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),t("path",{d:"M24 19V31",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),t("path",{d:"M24 19L21 22L19.5 23.5",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null)])}),_e=m("shuffle-one",!0,function(e){return t("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},[t("path",{d:"M40 33L44 37L40 41",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),t("path",{d:"M40 7L44 11L40 15",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),t("path",{d:"M44 11H37C29.8203 11 24 16.8203 24 24C24 31.1797 29.8203 37 37 37H44",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap},null),t("path",{d:"M4 37H11C18.1797 37 24 31.1797 24 24C24 16.8203 18.1797 11 11 11H4",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap},null)])}),ye=m("volume-mute",!0,function(e){return t("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},[t("rect",{opacity:"0.01",x:"30",y:"18",width:"13",height:"13",fill:e.colors[2]},null),t("mask",{id:e.id+"603476ab",maskUnits:"userSpaceOnUse",x:"30",y:"18",width:"13",height:"13",style:{maskType:"alpha"}},[t("rect",{x:"30",y:"18",width:"13",height:"13",fill:e.colors[2]},null)]),t("g",{mask:"url(#"+e.id+"603476ab)"},[t("path",{d:"M40.7348 20.2858L32.2495 28.7711",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),t("path",{d:"M32.2496 20.2858L40.7349 28.7711",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null)]),t("path",{d:"M24 6V42C17 42 11.7985 32.8391 11.7985 32.8391H6C4.89543 32.8391 4 31.9437 4 30.8391V17.0108C4 15.9062 4.89543 15.0108 6 15.0108H11.7985C11.7985 15.0108 17 6 24 6Z",fill:e.colors[1],stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linejoin":e.strokeLinejoin},null)])}),Ce=m("volume-notice",!0,function(e){return t("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},[t("path",{d:"M24 6V42C17 42 11.7985 32.8391 11.7985 32.8391H6C4.89543 32.8391 4 31.9437 4 30.8391V17.0108C4 15.9062 4.89543 15.0108 6 15.0108H11.7985C11.7985 15.0108 17 6 24 6Z",fill:e.colors[1],stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linejoin":e.strokeLinejoin},null),t("path",{d:"M32 15L32 15C32.6232 15.5565 33.1881 16.1797 33.6841 16.8588C35.1387 18.8504 36 21.3223 36 24C36 26.6545 35.1535 29.1067 33.7218 31.0893C33.2168 31.7885 32.6391 32.4293 32 33",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),t("path",{d:"M34.2359 41.1857C40.0836 37.6953 44 31.305 44 24C44 16.8085 40.2043 10.5035 34.507 6.97906",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap},null)])}),be=m("volume-small",!0,function(e){return t("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},[t("path",{d:"M24 6V42C17 42 11.7985 32.8391 11.7985 32.8391H6C4.89543 32.8391 4 31.9437 4 30.8391V17.0108C4 15.9062 4.89543 15.0108 6 15.0108H11.7985C11.7985 15.0108 17 6 24 6Z",fill:e.colors[1],stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linejoin":e.strokeLinejoin},null),t("path",{d:"M32 15L32 15C32.6232 15.5565 33.1881 16.1797 33.6841 16.8588C35.1387 18.8504 36 21.3223 36 24C36 26.6545 35.1535 29.1067 33.7218 31.0893C33.2168 31.7885 32.6391 32.4293 32 33",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null)])});function Le(e){return ne()?(ie(e),!0):!1}var K;const W=typeof window!="undefined",xe=e=>typeof e=="string",N=()=>{};W&&((K=window==null?void 0:window.navigator)==null?void 0:K.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function je(e){var o;const n=s(e);return(o=n==null?void 0:n.$el)!=null?o:n}const Me=W?window:void 0;W&&window.document;W&&window.navigator;W&&window.location;function Q(...e){let o,n,i,a;if(xe(e[0])?([n,i,a]=e,o=Me):[o,n,i,a]=e,!o)return N;let l=N;const k=A(()=>je(o),f=>{l(),f&&(f.addEventListener(n,i,a),l=()=>{f.removeEventListener(n,i,a),l=N})},{immediate:!0,flush:"post"}),C=()=>{k(),l()};return Le(C),C}const O=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},I="__vueuse_ssr_handlers__";O[I]=O[I]||{};O[I];var Y;(function(e){e.UP="UP",e.RIGHT="RIGHT",e.DOWN="DOWN",e.LEFT="LEFT",e.NONE="NONE"})(Y||(Y={}));const We={class:"bar-inner"},ze=["onMousedown","onMousemove","onMouseup","onTouchstart","onTouchmove","onTouchend"],Te=ee({__name:"ProgressBar",props:{progress:null,hasBtn:{type:Boolean,default:!0},barColor:{default:""}},emits:["progress-changing","progress-changed"],setup(e,{emit:o}){const n=e,i=16,a=M(0),l=M(null),k=M(null),C=h(()=>({width:`${a.value}px`,backgroundColor:n.barColor})),f=h(()=>({transform:`translate3d(${a.value}px,0,0)`}));A(()=>n.progress,d=>{var g;const c=((g=l.value)==null?void 0:g.clientWidth)-(n.hasBtn?i:0);a.value=c*d}),se(()=>{var c;const d=((c=l.value)==null?void 0:c.clientWidth)-(n.hasBtn?i:0);a.value=d*n.progress});const w={x1:0,beginWidth:0};let L=!1;const z=d=>{var c;L=!0,w.x1=d instanceof TouchEvent?d.touches[0].pageX:d.pageX,w.beginWidth=(c=k.value)==null?void 0:c.clientWidth},T=d=>{var u;if(!L)return;const c=(d instanceof TouchEvent?d.touches[0].pageX:d.pageX)-w.x1,g=w.beginWidth+c,_=((u=l.value)==null?void 0:u.clientWidth)-(n.hasBtn?i:0),v=Math.min(1,Math.max(g/_,0));a.value=_*v,o("progress-changing",v)},x=d=>{var _,v;if(!L)return;L=!1;const c=((_=l.value)==null?void 0:_.clientWidth)-(n.hasBtn?i:0),g=((v=k.value)==null?void 0:v.clientWidth)/c;o("progress-changed",g)},S=d=>{var u,y;const c=(u=l.value)==null?void 0:u.getBoundingClientRect(),g=d.pageX-c.left,_=((y=l.value)==null?void 0:y.clientWidth)-(n.hasBtn?i:0),v=Math.min(1,Math.max(g/_,0));o("progress-changed",v)};return Q(document,"mouseup",x),Q(document,"touchend",x),(d,c)=>(j(),te("div",{ref_key:"barRef",ref:l,class:"progress-bar",onClick:S},[r("div",We,[r("div",{ref_key:"progressRef",ref:k,class:"progress",style:E(s(C))},null,4),r("div",{class:"progress-btn-wrapper",style:E(s(f)),onMousedown:b(z,["prevent"]),onMousemove:b(T,["prevent"]),onMouseup:b(x,["prevent"]),onTouchstart:b(z,["prevent"]),onTouchmove:b(T,["prevent"]),onTouchend:b(x,["prevent"]),onClick:c[0]||(c[0]=b(()=>{},["stop"]))},[r("div",{class:"progress-btn",style:E({backgroundColor:n.barColor})},null,4)],44,ze)])],512))}});var J=p(Te,[["__scopeId","data-v-6b780afa"]]);function Be(){const e=M(null),o=M(null),n=D(),i=h(()=>n.playing),a=h(()=>i.value?"playing":"");A(i,k=>{k||l(e.value,o.value)});function l(k,C){const f=getComputedStyle(k).transform,w=getComputedStyle(C).transform;k.style.transform=f==="none"?w:w.concat(f)}return{cdRef:e,cdCoverRef:o,cdClass:a}}function Pe(){const e=D(),o=h(()=>e.playMode);return{currentMode:h(()=>{const a=o.value;return a===F.SEQUENCE?me:a===F.RANDOM?_e:we}),changeMode:()=>{const a=(o.value+1)%3;e.changeMode(a)}}}const Ve=e=>(de("data-v-5a8bfe66"),e=e(),ue(),e),Se={class:"mt-8 sm:mt-28"},Ee={class:"player-title"},He=oe(" \u6211\u7684\u79C1\u4EBA\u97F3\u4E50\u574A > "),Re={class:"flex items-center mt-6 flex-col-reverse sm:flex-row"},Ne={class:"flex-1 w-full"},Oe={class:"flex items-center h-9 mt-6 justify-center sm:mt-0 sm:justify-start"},Ie={class:"text-xl text-gray-800 text"},Ae={class:"text-sm text-gray-600 ml-1"},De=Ve(()=>r("i",{class:"mx-1.5.5.5.5.5"},"-",-1)),Ze={class:"flex items-center mt-8"},$e={class:"music-time mr-1.5"},Ue={class:"music-time ml-1.5"},Xe={class:"player-control flex items-center justify-between mt-10"},Ge={class:"inline-flex items-center"},Fe={class:"inline-flex items-center"},qe={class:"w-16 ml-1.5"},Ke={class:"w-[180px] h-[180px] sm:ml-5"},Qe=["src","alt"],Ye=ee({__name:"Player",setup(e){const o=D(),n=h(()=>o.playing),i=h(()=>o.currentSong),a=h(()=>o.currentTime),l=h(()=>o.volume),{currentMode:k,changeMode:C}=Pe(),{cdRef:f,cdCoverRef:w,cdClass:L}=Be(),z=h(()=>n.value?ge:ve),T=h(()=>{var y,B;const u=(B=(y=i.value)==null?void 0:y.duration)!=null?B:0;return a.value/u}),x=h(()=>l.value===0?ye:l.value<.3?be:Ce),S=()=>{o.setPlaying(!n.value)},d=()=>V.emit("prev"),c=()=>V.emit("next"),g=u=>{o.setProgressChanging(!0),o.setCurrentTime(i.value.duration*u)},_=u=>{o.setProgressChanging(!1);const y=i.value.duration*u;o.setCurrentTime(y),V.emit("changeTime",y),n.value||o.setPlaying(!0)},v=u=>{o.setVolume(u),V.emit("changeVolume",u)};return(u,y)=>{var Z,$,U,X,G;const B=he("router-link");return j(),te("div",Se,[r("h1",Ee,[t(B,{to:"/musics"},{default:re(()=>[He]),_:1})]),r("div",Re,[r("div",Ne,[r("div",Oe,[r("span",Ie,P((Z=s(i))==null?void 0:Z.title),1),r("span",Ae,[De,oe(" "+P(($=s(i))==null?void 0:$.artist),1)])]),r("div",Ze,[r("span",$e,P(s(q)(s(a))),1),t(J,{class:"flex-1",progress:s(T),onProgressChanging:g,onProgressChanged:_},null,8,["progress"]),r("span",Ue,P(s(q)((U=s(i))==null?void 0:U.duration)),1)]),r("div",Xe,[(j(),H(R(s(k)),{class:"cursor-pointer",theme:"outline",size:"28","stroke-width":3,fill:"#4b5563",onClick:s(C)},null,8,["onClick"])),r("span",Ge,[t(s(fe),{class:"cursor-pointer",theme:"outline",size:"32",fill:"#4b5563","stroke-width":3,onClick:d}),(j(),H(R(s(z)),{class:"cursor-pointer ml-5",theme:"outline",size:"40",fill:"#4b5563","stroke-width":3,onClick:S})),t(s(ke),{class:"cursor-pointer ml-5",theme:"outline",size:"32",fill:"#4b5563","stroke-width":3,onClick:c})]),r("div",Fe,[(j(),H(R(s(x)),{theme:"outline",size:"16",fill:"#4b5563"})),r("div",qe,[t(J,{progress:s(l),onProgressChanging:v,onProgressChanged:v},null,8,["progress"])])])])]),r("div",Ke,[ae(r("div",{ref_key:"cdRef",ref:f},[r("img",{ref_key:"cdCoverRef",ref:w,class:ce(["w-full h-full rounded-full",s(L)]),src:(X=s(i))==null?void 0:X.cover,alt:(G=s(i))==null?void 0:G.title},null,10,Qe)],512),[[le,s(i)]])])])])}}});var pe=p(Ye,[["__scopeId","data-v-5a8bfe66"]]);export{pe as default};
