import{I,c as i,_ as z,d as B,f as r,m as v,k as F,q as V,v as H,i as n,t as b,T as O,C as R,D as G,u as $,E as D,a,F as Z,h as S,b as t,l as q,S as k,j as E,G as g,s as y,A as P,B as J,r as K,e as Q,H as U,J as X,M as L}from"./index.fc7be351.js";var Y=I("delete",!1,function(e){return i("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},[i("path",{d:"M9 10V44H39V10H9Z",fill:e.colors[1],stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linejoin":e.strokeLinejoin},null),i("path",{d:"M20 20V33",stroke:e.colors[2],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),i("path",{d:"M28 20V33",stroke:e.colors[2],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),i("path",{d:"M4 10H44",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),i("path",{d:"M16 10L19.289 4H28.7771L32 10H16Z",fill:e.colors[1],stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linejoin":e.strokeLinejoin},null)])}),p=I("folder-download",!0,function(e){return i("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},[i("path",{d:"M5 8C5 6.89543 5.89543 6 7 6H19L24 12H41C42.1046 12 43 12.8954 43 14V40C43 41.1046 42.1046 42 41 42H7C5.89543 42 5 41.1046 5 40V8Z",fill:e.colors[1],stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linejoin":e.strokeLinejoin},null),i("path",{d:"M30 28L23.9933 34L18 28.0134",stroke:e.colors[2],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),i("path",{d:"M24 20V34",stroke:e.colors[2],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null)])}),ee=I("view-grid-card",!1,function(e){return i("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},[i("rect",{x:"6",y:"6",width:"36",height:"36",rx:"3",fill:e.colors[1],stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linejoin":e.strokeLinejoin},null),i("rect",{x:"13",y:"13",width:"8",height:"8",fill:e.colors[3],stroke:e.colors[2],"stroke-width":e.strokeWidth,"stroke-linejoin":e.strokeLinejoin},null),i("rect",{x:"27",y:"13",width:"8",height:"8",fill:e.colors[3],stroke:e.colors[2],"stroke-width":e.strokeWidth,"stroke-linejoin":e.strokeLinejoin},null),i("rect",{x:"13",y:"27",width:"8",height:"8",fill:e.colors[3],stroke:e.colors[2],"stroke-width":e.strokeWidth,"stroke-linejoin":e.strokeLinejoin},null),i("rect",{x:"27",y:"27",width:"8",height:"8",fill:e.colors[3],stroke:e.colors[2],"stroke-width":e.strokeWidth,"stroke-linejoin":e.strokeLinejoin},null)])}),te=I("view-grid-list",!0,function(e){return i("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},[i("rect",{x:"6",y:"6",width:"36",height:"36",rx:"3",fill:e.colors[1],stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linejoin":e.strokeLinejoin},null),i("rect",{x:"13",y:"13",width:"8",height:"8",fill:e.colors[3],stroke:e.colors[2],"stroke-width":e.strokeWidth,"stroke-linejoin":e.strokeLinejoin},null),i("rect",{x:"13",y:"27",width:"8",height:"8",fill:e.colors[3],stroke:e.colors[2],"stroke-width":e.strokeWidth,"stroke-linejoin":e.strokeLinejoin},null),i("path",{d:"M27 28L35 28",stroke:e.colors[2],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),i("path",{d:"M27 35H35",stroke:e.colors[2],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),i("path",{d:"M27 13L35 13",stroke:e.colors[2],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),i("path",{d:"M27 20L35 20",stroke:e.colors[2],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null)])});const ie={class:"mt-toast"},se={class:"mt-toast__text"},oe=B({__name:"Toast",props:{text:null,show:{type:Boolean}},setup(e){return(h,s)=>(r(),v(O,{name:"mt-toast"},{default:F(()=>[V(n("div",ie,[n("div",se,b(e.text),1)],512),[[H,e.show]])]),_:1}))}});var ne=z(oe,[["__scopeId","data-v-00a828e3"]]);let M,T,C;function N({text:e,duration:h=2e3,appendTo:s=document.body}){const d=()=>{T.unmount(),s.removeChild(C)};M&&(clearTimeout(M),d()),T=R(ne,{text:e,show:!0}),C=document.createElement("div"),s.appendChild(C),T.mount(C),M=setTimeout(()=>{d(),M=void 0},h)}const le=e=>(P("data-v-743b8560"),e=e(),J(),e),ce={class:"music-inner"},re=["alt"],ae={class:"music-title ml-2.5 text-sm text-gray-800"},ue={class:"music-artist mr-auto text-xs text-gray-500"},de=le(()=>n("i",{class:"mx-1.5"},"-",-1)),ke=B({__name:"MusicItem",props:{musicItem:null,currentTab:null},setup(e){const h=e,{musicItem:s,currentTab:d}=G(h),_=$(),m=D(),w=a(()=>_.currentSong),u=a(()=>m.localMusics),f=a(()=>{var l,o;return s.value.title===((l=w.value)==null?void 0:l.title)&&s.value.artist===((o=w.value)==null?void 0:o.artist)}),j=a(()=>!!u.value.find(l=>l.title===s.value.title&&l.artist===s.value.artist)),x=()=>{m.addToLocal(s.value),N({text:"\u5DF2\u6DFB\u52A0\u5230\u672C\u5730"})},W=()=>{m.removeFromLocal(s.value),N({text:"\u79FB\u9664\u6210\u529F"})};return(l,o)=>{const c=Z("lazy");return r(),S("div",{class:y(["music-item",{"is-active":t(f)}])},[n("div",ce,[V(n("img",{class:"w-10 h-10",alt:t(s).title},null,8,re),[[c,t(s).cover]]),n("span",ae,b(t(s).title),1),n("span",ue,[de,q(b(t(s).artist),1)]),t(k).ONLINE===t(d)&&!t(j)?(r(),v(t(p),{key:0,class:"p-2",theme:"outline",size:"16",fill:"#333",onClick:E(x,["stop"])},null,8,["onClick"])):g("",!0),t(k).LOCALE===t(d)?(r(),v(t(Y),{key:1,class:"p-2",theme:"outline",size:"16",fill:"#333",onClick:E(W,["stop"])},null,8,["onClick"])):g("",!0)])],2)}}});var he=z(ke,[["__scopeId","data-v-743b8560"]]);const ve={class:"musiclist my-8"},_e={class:"music-header mb-5"},me={class:"music-tabs"},Le={class:"music-mode"},we=B({__name:"MusicList",setup(e){const h=$(),s=D(),d=a(()=>s.currentTab),_=a(()=>s.currentMode),m=a(()=>s.onlineMusics),w=a(()=>s.localMusics),u=K(d.value),f=a(()=>u.value===k.ONLINE?m.value:w.value),j=l=>{u.value=l},x=l=>{s.setCurrentMode(l)},W=(l,o)=>{s.setCurrentTab(u.value),h.selectPlay({sequenceList:f.value,currentIndex:o})};return Q(()=>{s.fetchMusics()}),(l,o)=>(r(),S("div",ve,[n("div",_e,[n("div",me,[n("span",{class:y({"is-active":u.value===t(k).LOCALE}),onClick:o[0]||(o[0]=c=>j(t(k).LOCALE))},"\u672C\u5730",2),n("span",{class:y(["ml-2.5",{"is-active":u.value===t(k).ONLINE}]),onClick:o[1]||(o[1]=c=>j(t(k).ONLINE))},"\u5728\u7EBF",2)]),n("span",Le,[t(_)===t(L).CARD?(r(),v(t(ee),{key:0,theme:"outline",size:"24",fill:"#6b7280",onClick:o[2]||(o[2]=c=>x(t(L).LIST))})):g("",!0),t(_)===t(L).LIST?(r(),v(t(te),{key:1,theme:"outline",size:"24",fill:"#6b7280",onClick:o[3]||(o[3]=c=>x(t(L).CARD))})):g("",!0)])]),n("div",{class:y(["music-list",{"mode-card":t(_)===t(L).CARD}])},[(r(!0),S(U,null,X(t(f),(c,A)=>(r(),v(he,{key:c.title+c.artist,"music-item":c,"current-tab":u.value,onClick:fe=>W(c,A)},null,8,["music-item","current-tab","onClick"]))),128))],2)]))}});var xe=z(we,[["__scopeId","data-v-833ca982"]]);export{xe as default};
