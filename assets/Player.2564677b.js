import{I as f,c as t,r as M,u as A,a as u,w as D,P as F,g as ne,o as ie,b as r,_ as p,d as ee,e as se,f as j,h as te,i as l,n as E,j as _,k as re,t as P,l as oe,m as q,p as H,q as R,s as le,v as ae,x as ce,y as de,z as ue,A as V,B as he}from"./index.0c2be763.js";var ke=f("go-end",!0,function(e){return t("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},[t("path",{d:"M14 12L26 24L14 36",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),t("path",{d:"M34 12V36",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null)])}),fe=f("go-start",!0,function(e){return t("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},[t("path",{d:"M34 36L22 24L34 12",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),t("path",{d:"M14 12V36",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null)])}),ve=f("pause-one",!1,function(e){return t("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},[t("path",{d:"M24 44C35.0457 44 44 35.0457 44 24C44 12.9543 35.0457 4 24 4C12.9543 4 4 12.9543 4 24C4 35.0457 12.9543 44 24 44Z",fill:e.colors[1],stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linejoin":e.strokeLinejoin},null),t("path",{d:"M19 18V30",stroke:e.colors[2],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),t("path",{d:"M29 18V30",stroke:e.colors[2],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null)])}),ge=f("play",!0,function(e){return t("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},[t("path",{d:"M24 44C35.0457 44 44 35.0457 44 24C44 12.9543 35.0457 4 24 4C12.9543 4 4 12.9543 4 24C4 35.0457 12.9543 44 24 44Z",fill:e.colors[1],stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linejoin":e.strokeLinejoin},null),t("path",{d:"M20 24V17.0718L26 20.5359L32 24L26 27.4641L20 30.9282V24Z",fill:e.colors[3],stroke:e.colors[2],"stroke-width":e.strokeWidth,"stroke-linejoin":e.strokeLinejoin},null)])}),me=f("play-cycle",!0,function(e){return t("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},[t("path",{d:"M4 25C4 18.3502 9.39624 13 16 13H44",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),t("path",{d:"M38 7L44 13L38 19",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),t("path",{d:"M44 23C44 29.6498 38.6038 35 32 35H4",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),t("path",{d:"M10 41L4 35L10 29",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null)])}),we=f("play-once",!0,function(e){return t("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},[t("path",{d:"M43.8233 25.2305C43.7019 25.9889 43.5195 26.727 43.2814 27.4395C42.763 28.9914 41.9801 30.4222 40.9863 31.6785C38.4222 34.9201 34.454 37 30 37H16C9.39697 37 4 31.6785 4 25C4 18.3502 9.39624 13 16 13H44",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),t("path",{d:"M38 7L44 13L38 19",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),t("path",{d:"M24 19V31",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),t("path",{d:"M24 19L21 22L19.5 23.5",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null)])}),_e=f("shuffle-one",!0,function(e){return t("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},[t("path",{d:"M40 33L44 37L40 41",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),t("path",{d:"M40 7L44 11L40 15",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),t("path",{d:"M44 11H37C29.8203 11 24 16.8203 24 24C24 31.1797 29.8203 37 37 37H44",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap},null),t("path",{d:"M4 37H11C18.1797 37 24 31.1797 24 24C24 16.8203 18.1797 11 11 11H4",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap},null)])}),ye=f("volume-mute",!0,function(e){return t("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},[t("rect",{opacity:"0.01",x:"30",y:"18",width:"13",height:"13",fill:e.colors[2]},null),t("mask",{id:e.id+"603476ab",maskUnits:"userSpaceOnUse",x:"30",y:"18",width:"13",height:"13",style:{maskType:"alpha"}},[t("rect",{x:"30",y:"18",width:"13",height:"13",fill:e.colors[2]},null)]),t("g",{mask:"url(#"+e.id+"603476ab)"},[t("path",{d:"M40.7348 20.2858L32.2495 28.7711",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),t("path",{d:"M32.2496 20.2858L40.7349 28.7711",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null)]),t("path",{d:"M24 6V42C17 42 11.7985 32.8391 11.7985 32.8391H6C4.89543 32.8391 4 31.9437 4 30.8391V17.0108C4 15.9062 4.89543 15.0108 6 15.0108H11.7985C11.7985 15.0108 17 6 24 6Z",fill:e.colors[1],stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linejoin":e.strokeLinejoin},null)])}),Ce=f("volume-notice",!0,function(e){return t("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},[t("path",{d:"M24 6V42C17 42 11.7985 32.8391 11.7985 32.8391H6C4.89543 32.8391 4 31.9437 4 30.8391V17.0108C4 15.9062 4.89543 15.0108 6 15.0108H11.7985C11.7985 15.0108 17 6 24 6Z",fill:e.colors[1],stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linejoin":e.strokeLinejoin},null),t("path",{d:"M32 15L32 15C32.6232 15.5565 33.1881 16.1797 33.6841 16.8588C35.1387 18.8504 36 21.3223 36 24C36 26.6545 35.1535 29.1067 33.7218 31.0893C33.2168 31.7885 32.6391 32.4293 32 33",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),t("path",{d:"M34.2359 41.1857C40.0836 37.6953 44 31.305 44 24C44 16.8085 40.2043 10.5035 34.507 6.97906",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap},null)])}),Le=f("volume-small",!0,function(e){return t("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},[t("path",{d:"M24 6V42C17 42 11.7985 32.8391 11.7985 32.8391H6C4.89543 32.8391 4 31.9437 4 30.8391V17.0108C4 15.9062 4.89543 15.0108 6 15.0108H11.7985C11.7985 15.0108 17 6 24 6Z",fill:e.colors[1],stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linejoin":e.strokeLinejoin},null),t("path",{d:"M32 15L32 15C32.6232 15.5565 33.1881 16.1797 33.6841 16.8588C35.1387 18.8504 36 21.3223 36 24C36 26.6545 35.1535 29.1067 33.7218 31.0893C33.2168 31.7885 32.6391 32.4293 32 33",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null)])});function be(){const e=M(null),o=M(null),n=A(),i=u(()=>n.playing),a=u(()=>i.value?"playing":""),s=(d,m)=>{const k=getComputedStyle(d).transform,v=getComputedStyle(m).transform;d.style.transform=k==="none"?v:v.concat(k)};return D(i,d=>{d||s(e.value,o.value)}),{cdRef:e,cdCoverRef:o,cdClass:a}}function xe(){const e=A(),o=u(()=>e.playMode);return{currentMode:u(()=>{const a=o.value;return a===F.SEQUENCE?me:a===F.RANDOM?_e:we}),changeMode:()=>{const a=(o.value+1)%3;e.changeMode(a)}}}function je(e){return ne()?(ie(e),!0):!1}var K;const W=typeof window!="undefined",Me=e=>typeof e=="string",N=()=>{};W&&((K=window==null?void 0:window.navigator)==null?void 0:K.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function We(e){var o;const n=r(e);return(o=n==null?void 0:n.$el)!=null?o:n}const ze=W?window:void 0;W&&window.document;W&&window.navigator;W&&window.location;function Q(...e){let o,n,i,a;if(Me(e[0])?([n,i,a]=e,o=ze):[o,n,i,a]=e,!o)return N;let s=N;const d=D(()=>We(o),k=>{s(),k&&(k.addEventListener(n,i,a),s=()=>{k.removeEventListener(n,i,a),s=N})},{immediate:!0,flush:"post"}),m=()=>{d(),s()};return je(m),m}const O=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},I="__vueuse_ssr_handlers__";O[I]=O[I]||{};O[I];var Y;(function(e){e.UP="UP",e.RIGHT="RIGHT",e.DOWN="DOWN",e.LEFT="LEFT",e.NONE="NONE"})(Y||(Y={}));const Te={class:"bar-inner"},Be=["onMousedown","onMousemove","onMouseup","onTouchstart","onTouchmove","onTouchend"],Pe=ee({__name:"ProgressBar",props:{progress:null,hasBtn:{type:Boolean,default:!0},barColor:{default:""}},emits:["progress-changing","progress-changed"],setup(e,{emit:o}){const n=e,i=16,a=M(0),s=M(null),d=M(null),m=u(()=>({width:`${a.value}px`,backgroundColor:n.barColor})),k=u(()=>({transform:`translate3d(${a.value}px,0,0)`}));D(()=>n.progress,c=>{if(!s.value)return;const h=s.value.clientWidth-(n.hasBtn?i:0);a.value=h*c}),se(()=>{if(!s.value)return;const c=s.value.clientWidth-(n.hasBtn?i:0);a.value=c*n.progress});const v={x1:0,beginWidth:0};let y=!1;const z=c=>{!d.value||(y=!0,v.x1=c instanceof TouchEvent?c.touches[0].pageX:c.pageX,v.beginWidth=d.value.clientWidth)},T=c=>{if(!y||!s.value)return;const h=(c instanceof TouchEvent?c.touches[0].pageX:c.pageX)-v.x1,x=v.beginWidth+h,L=s.value.clientWidth-(n.hasBtn?i:0),w=Math.min(1,Math.max(x/L,0));a.value=L*w,o("progress-changing",w)},C=()=>{if(!y||!s.value||!d.value)return;y=!1;const c=s.value.clientWidth-(n.hasBtn?i:0),h=d.value.clientWidth/c;o("progress-changed",h)},S=c=>{if(!s.value)return;const h=s.value.getBoundingClientRect(),x=c.pageX-h.left,L=s.value.clientWidth-(n.hasBtn?i:0),w=Math.min(1,Math.max(x/L,0));o("progress-changed",w)};return Q(document,"mouseup",C),Q(document,"touchend",C),(c,h)=>(j(),te("div",{ref_key:"barRef",ref:s,class:"progress-bar",onClick:S},[l("div",Te,[l("div",{ref_key:"progressRef",ref:d,class:"progress",style:E(r(m))},null,4),l("div",{class:"progress-btn-wrapper",style:E(r(k)),onMousedown:_(z,["prevent"]),onMousemove:_(T,["prevent"]),onMouseup:_(C,["prevent"]),onTouchstart:_(z,["prevent"]),onTouchmove:_(T,["prevent"]),onTouchend:_(C,["prevent"]),onClick:h[0]||(h[0]=_(()=>{},["stop"]))},[l("div",{class:"progress-btn",style:E({backgroundColor:n.barColor})},null,4)],44,Be)])],512))}});var J=p(Pe,[["__scopeId","data-v-72f44208"]]);const Ve=e=>(de("data-v-3f4b8370"),e=e(),ue(),e),Se={class:"mt-8 sm:mt-28"},Ee={class:"player-title"},He=oe(" \u6211\u7684\u79C1\u4EBA\u97F3\u4E50\u574A > "),Re={class:"flex items-center mt-6 flex-col-reverse sm:flex-row"},Ne={class:"flex-1 w-full"},Oe={class:"flex items-center h-9 mt-6 justify-center sm:mt-0 sm:justify-start"},Ie={class:"text-xl text-gray-800 text"},Ae={class:"text-sm text-gray-600 ml-1"},De=Ve(()=>l("i",{class:"mx-1.5.5.5.5.5"},"-",-1)),Ze={class:"flex items-center mt-8"},$e={class:"music-time mr-1.5"},Ue={class:"music-time ml-1.5"},Xe={class:"player-control flex items-center justify-between mt-10"},Ge={class:"inline-flex items-center"},Fe={class:"inline-flex items-center"},qe={class:"w-16 ml-1.5"},Ke={class:"w-[180px] h-[180px] sm:ml-5"},Qe=["src","alt"],Ye=ee({__name:"Player",setup(e){const o=A(),n=u(()=>o.playing),i=u(()=>o.currentSong),a=u(()=>o.currentTime),s=u(()=>o.volume),{currentMode:d,changeMode:m}=xe(),{cdRef:k,cdCoverRef:v,cdClass:y}=be(),z=u(()=>n.value?ve:ge),T=u(()=>{var b,B;const g=(B=(b=i.value)==null?void 0:b.duration)!=null?B:0;return a.value/g}),C=u(()=>s.value===0?ye:s.value<.3?Le:Ce),S=()=>{o.setPlaying(!n.value)},c=()=>V.emit("prev"),h=()=>V.emit("next"),x=g=>{o.setProgressChanging(!0),o.setCurrentTime(i.value.duration*g)},L=g=>{o.setProgressChanging(!1);const b=i.value.duration*g;o.setCurrentTime(b),V.emit("changeTime",b),n.value||o.setPlaying(!0)},w=g=>{o.setVolume(g),V.emit("changeVolume",g)};return(g,b)=>{var Z,$,U,X,G;const B=he("router-link");return j(),te("div",Se,[l("h1",Ee,[t(B,{to:"/musics"},{default:re(()=>[He]),_:1})]),l("div",Re,[l("div",Ne,[l("div",Oe,[l("span",Ie,P((Z=r(i))==null?void 0:Z.title),1),l("span",Ae,[De,oe(" "+P(($=r(i))==null?void 0:$.artist),1)])]),l("div",Ze,[l("span",$e,P(r(q)(r(a))),1),t(J,{class:"flex-1",progress:r(T),onProgressChanging:x,onProgressChanged:L},null,8,["progress"]),l("span",Ue,P(r(q)((U=r(i))==null?void 0:U.duration)),1)]),l("div",Xe,[(j(),H(R(r(d)),{class:"cursor-pointer",theme:"outline",size:"28","stroke-width":3,fill:"#4b5563",onClick:r(m)},null,8,["onClick"])),l("span",Ge,[t(r(fe),{class:"cursor-pointer",theme:"outline",size:"32",fill:"#4b5563","stroke-width":3,onClick:c}),(j(),H(R(r(z)),{class:"cursor-pointer ml-5",theme:"outline",size:"40",fill:"#4b5563","stroke-width":3,onClick:S})),t(r(ke),{class:"cursor-pointer ml-5",theme:"outline",size:"32",fill:"#4b5563","stroke-width":3,onClick:h})]),l("div",Fe,[(j(),H(R(r(C)),{theme:"outline",size:"16",fill:"#4b5563"})),l("div",qe,[t(J,{progress:r(s),onProgressChanging:w,onProgressChanged:w},null,8,["progress"])])])])]),l("div",Ke,[le(l("div",{ref_key:"cdRef",ref:k},[l("img",{ref_key:"cdCoverRef",ref:v,class:ce(["w-full h-full rounded-full",r(y)]),src:(X=r(i))==null?void 0:X.cover,alt:(G=r(i))==null?void 0:G.title},null,10,Qe)],512),[[ae,r(i)]])])])])}}});var pe=p(Ye,[["__scopeId","data-v-3f4b8370"]]);export{pe as default};
