import{I,j as i,_ as B,d as E,b as r,z as v,k as H,q as $,v as O,f as s,t as T,T as R,A as G,B as Z,i as D,C as A,c as l,D as q,e as S,u as t,l as P,S as h,h as N,E as C,p as M,s as J,x as K,r as Q,M as g,F as U,G as X}from"./index.d3609987.js";var Y=I("folder-download",!0,function(e){return i("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},[i("path",{d:"M5 8C5 6.89543 5.89543 6 7 6H19L24 12H41C42.1046 12 43 12.8954 43 14V40C43 41.1046 42.1046 42 41 42H7C5.89543 42 5 41.1046 5 40V8Z",fill:e.colors[1],stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linejoin":e.strokeLinejoin},null),i("path",{d:"M30 28L23.9933 34L18 28.0134",stroke:e.colors[2],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),i("path",{d:"M24 20V34",stroke:e.colors[2],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null)])}),p=I("delete",!1,function(e){return i("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},[i("path",{d:"M9 10V44H39V10H9Z",fill:e.colors[1],stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linejoin":e.strokeLinejoin},null),i("path",{d:"M20 20V33",stroke:e.colors[2],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),i("path",{d:"M28 20V33",stroke:e.colors[2],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),i("path",{d:"M4 10H44",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),i("path",{d:"M16 10L19.289 4H28.7771L32 10H16Z",fill:e.colors[1],stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linejoin":e.strokeLinejoin},null)])}),ee=I("view-grid-card",!1,function(e){return i("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},[i("rect",{x:"6",y:"6",width:"36",height:"36",rx:"3",fill:e.colors[1],stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linejoin":e.strokeLinejoin},null),i("rect",{x:"13",y:"13",width:"8",height:"8",fill:e.colors[3],stroke:e.colors[2],"stroke-width":e.strokeWidth,"stroke-linejoin":e.strokeLinejoin},null),i("rect",{x:"27",y:"13",width:"8",height:"8",fill:e.colors[3],stroke:e.colors[2],"stroke-width":e.strokeWidth,"stroke-linejoin":e.strokeLinejoin},null),i("rect",{x:"13",y:"27",width:"8",height:"8",fill:e.colors[3],stroke:e.colors[2],"stroke-width":e.strokeWidth,"stroke-linejoin":e.strokeLinejoin},null),i("rect",{x:"27",y:"27",width:"8",height:"8",fill:e.colors[3],stroke:e.colors[2],"stroke-width":e.strokeWidth,"stroke-linejoin":e.strokeLinejoin},null)])}),te=I("view-grid-list",!0,function(e){return i("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},[i("rect",{x:"6",y:"6",width:"36",height:"36",rx:"3",fill:e.colors[1],stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linejoin":e.strokeLinejoin},null),i("rect",{x:"13",y:"13",width:"8",height:"8",fill:e.colors[3],stroke:e.colors[2],"stroke-width":e.strokeWidth,"stroke-linejoin":e.strokeLinejoin},null),i("rect",{x:"13",y:"27",width:"8",height:"8",fill:e.colors[3],stroke:e.colors[2],"stroke-width":e.strokeWidth,"stroke-linejoin":e.strokeLinejoin},null),i("path",{d:"M27 28L35 28",stroke:e.colors[2],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),i("path",{d:"M27 35H35",stroke:e.colors[2],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),i("path",{d:"M27 13L35 13",stroke:e.colors[2],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),i("path",{d:"M27 20L35 20",stroke:e.colors[2],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null)])});const ie={class:"mt-toast"},oe={class:"mt-toast__text"},se=E({__name:"Toast",props:{text:null,show:{type:Boolean}},setup(e){return(k,o)=>(r(),v(R,{name:"mt-toast"},{default:H(()=>[$(s("div",ie,[s("div",oe,T(e.text),1)],512),[[O,e.show]])]),_:1}))}});var ae=B(se,[["__scopeId","data-v-00a828e3"]]);let b,z,j;function V({text:e,duration:k=2e3,appendTo:o=document.body}){b&&(clearTimeout(b),m()),z=G(ae,{text:e,show:!0}),j=document.createElement("div"),o.appendChild(j),z.mount(j),b=setTimeout(()=>{m(),b=void 0},k);function m(){z.unmount(),o.removeChild(j)}}const ne=e=>(J("data-v-c203ffc6"),e=e(),K(),e),re={class:"music-inner"},le=["alt"],ce={class:"music-title ml-2.5 text-sm text-gray-800"},de={class:"music-artist mr-auto text-xs text-gray-500"},ue=ne(()=>s("i",{class:"mx-1.5"},"-",-1)),me=E({__name:"MusicItem",props:{musicItem:null,currentTab:null},setup(e){const k=e,{musicItem:o,currentTab:m}=Z(k),f=D(),w=A(),x=l(()=>f.currentSong),c=l(()=>w.localMusics),_=l(()=>{var d,n;return o.value.title===((d=x.value)==null?void 0:d.title)&&o.value.artist===((n=x.value)==null?void 0:n.artist)}),L=l(()=>!!c.value.find(d=>d.title===o.value.title&&d.artist===o.value.artist)),y=()=>{w.addToLocal(o.value),V({text:"\u5DF2\u6DFB\u52A0\u5230\u672C\u5730"})},W=()=>{w.removeFromLocal(o.value),V({text:"\u79FB\u9664\u6210\u529F"})};return(d,n)=>{const a=q("lazy");return r(),S("div",{class:M(["music-item",{"is-active":t(_)}])},[s("div",re,[$(s("img",{class:"w-10 h-10",alt:t(o).title},null,8,le),[[a,t(o).cover]]),s("span",ce,T(t(o).title),1),s("span",de,[ue,P(T(t(o).artist),1)]),t(h).ONLINE===t(m)&&!t(L)?(r(),v(t(Y),{key:0,class:"p-2",theme:"outline",size:"16",fill:"#333",onClick:N(y,["stop"])},null,8,["onClick"])):C("",!0),t(h).LOCALE===t(m)?(r(),v(t(p),{key:1,class:"p-2",theme:"outline",size:"16",fill:"#333",onClick:N(W,["stop"])},null,8,["onClick"])):C("",!0)])],2)}}});var he=B(me,[["__scopeId","data-v-c203ffc6"]]);const ke={class:"musiclist my-8"},ve={class:"music-header mb-5"},fe={class:"music-tabs"},we={class:"music-mode"},ge=E({__name:"MusicList",setup(e){const k=D(),o=A(),m=l(()=>o.currentTab),f=l(()=>o.currentMode),w=l(()=>o.onlineMusics),x=l(()=>o.localMusics),c=Q(m.value),_=l(()=>c.value===h.ONLINE?w.value:x.value),L=n=>{c.value=n},y=n=>{o.setCurrentMode(n)},W=(n,a)=>{o.setCurrentTab(c.value),k.selectPlay({sequenceList:_.value,currentIndex:a})};d();function d(){o.fetchMusics()}return(n,a)=>(r(),S("div",ke,[s("div",ve,[s("div",fe,[s("span",{class:M({"is-active":c.value===t(h).LOCALE}),onClick:a[0]||(a[0]=u=>L(t(h).LOCALE))},"\u672C\u5730",2),s("span",{class:M(["ml-2.5",{"is-active":c.value===t(h).ONLINE}]),onClick:a[1]||(a[1]=u=>L(t(h).ONLINE))},"\u5728\u7EBF",2)]),s("span",we,[t(f)===t(g).CARD?(r(),v(t(ee),{key:0,theme:"outline",size:"24",fill:"#6b7280",onClick:a[2]||(a[2]=u=>y(t(g).LIST))})):C("",!0),t(f)===t(g).LIST?(r(),v(t(te),{key:1,theme:"outline",size:"24",fill:"#6b7280",onClick:a[3]||(a[3]=u=>y(t(g).CARD))})):C("",!0)])]),s("div",{class:M(["music-list",{"mode-card":t(f)===t(g).CARD}])},[(r(!0),S(U,null,X(t(_),(u,F)=>(r(),v(he,{key:u.title+u.artist,"music-item":u,"current-tab":c.value,onClick:xe=>W(u,F)},null,8,["music-item","current-tab","onClick"]))),128))],2)]))}});var Le=B(ge,[["__scopeId","data-v-48f5ea6e"]]);export{Le as default};
