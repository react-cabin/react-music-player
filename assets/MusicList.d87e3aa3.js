import{I as C,c as i,_ as S,d as E,f as l,p as k,k as F,s as $,v as H,i as s,t as z,T as O,C as R,D as G,u as B,E as D,a as c,F as Z,h as T,b as t,l as P,S as m,j as N,G as M,x as j,y as q,z as J,r as K,e as Q,M as g,H as U,J as X}from"./index.0c2be763.js";var Y=C("delete",!1,function(e){return i("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},[i("path",{d:"M9 10V44H39V10H9Z",fill:e.colors[1],stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linejoin":e.strokeLinejoin},null),i("path",{d:"M20 20V33",stroke:e.colors[2],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),i("path",{d:"M28 20V33",stroke:e.colors[2],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),i("path",{d:"M4 10H44",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),i("path",{d:"M16 10L19.289 4H28.7771L32 10H16Z",fill:e.colors[1],stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linejoin":e.strokeLinejoin},null)])}),p=C("folder-download",!0,function(e){return i("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},[i("path",{d:"M5 8C5 6.89543 5.89543 6 7 6H19L24 12H41C42.1046 12 43 12.8954 43 14V40C43 41.1046 42.1046 42 41 42H7C5.89543 42 5 41.1046 5 40V8Z",fill:e.colors[1],stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linejoin":e.strokeLinejoin},null),i("path",{d:"M30 28L23.9933 34L18 28.0134",stroke:e.colors[2],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),i("path",{d:"M24 20V34",stroke:e.colors[2],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null)])}),ee=C("view-grid-card",!1,function(e){return i("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},[i("rect",{x:"6",y:"6",width:"36",height:"36",rx:"3",fill:e.colors[1],stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linejoin":e.strokeLinejoin},null),i("rect",{x:"13",y:"13",width:"8",height:"8",fill:e.colors[3],stroke:e.colors[2],"stroke-width":e.strokeWidth,"stroke-linejoin":e.strokeLinejoin},null),i("rect",{x:"27",y:"13",width:"8",height:"8",fill:e.colors[3],stroke:e.colors[2],"stroke-width":e.strokeWidth,"stroke-linejoin":e.strokeLinejoin},null),i("rect",{x:"13",y:"27",width:"8",height:"8",fill:e.colors[3],stroke:e.colors[2],"stroke-width":e.strokeWidth,"stroke-linejoin":e.strokeLinejoin},null),i("rect",{x:"27",y:"27",width:"8",height:"8",fill:e.colors[3],stroke:e.colors[2],"stroke-width":e.strokeWidth,"stroke-linejoin":e.strokeLinejoin},null)])}),te=C("view-grid-list",!0,function(e){return i("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},[i("rect",{x:"6",y:"6",width:"36",height:"36",rx:"3",fill:e.colors[1],stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linejoin":e.strokeLinejoin},null),i("rect",{x:"13",y:"13",width:"8",height:"8",fill:e.colors[3],stroke:e.colors[2],"stroke-width":e.strokeWidth,"stroke-linejoin":e.strokeLinejoin},null),i("rect",{x:"13",y:"27",width:"8",height:"8",fill:e.colors[3],stroke:e.colors[2],"stroke-width":e.strokeWidth,"stroke-linejoin":e.strokeLinejoin},null),i("path",{d:"M27 28L35 28",stroke:e.colors[2],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),i("path",{d:"M27 35H35",stroke:e.colors[2],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),i("path",{d:"M27 13L35 13",stroke:e.colors[2],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),i("path",{d:"M27 20L35 20",stroke:e.colors[2],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null)])});const ie={class:"mt-toast"},ae={class:"mt-toast__text"},oe=E({__name:"Toast",props:{text:null,show:{type:Boolean}},setup(e){return(h,a)=>(l(),k(O,{name:"mt-toast"},{default:F(()=>[$(s("div",ie,[s("div",ae,z(e.text),1)],512),[[H,e.show]])]),_:1}))}});var se=S(oe,[["__scopeId","data-v-00a828e3"]]);let b,W,y;function V({text:e,duration:h=2e3,appendTo:a=document.body}){const u=()=>{W.unmount(),a.removeChild(y)};b&&(clearTimeout(b),u()),W=R(se,{text:e,show:!0}),y=document.createElement("div"),a.appendChild(y),W.mount(y),b=setTimeout(()=>{u(),b=void 0},h)}const re=e=>(q("data-v-743b8560"),e=e(),J(),e),ne={class:"music-inner"},le=["alt"],ce={class:"music-title ml-2.5 text-sm text-gray-800"},de={class:"music-artist mr-auto text-xs text-gray-500"},ue=re(()=>s("i",{class:"mx-1.5"},"-",-1)),me=E({__name:"MusicItem",props:{musicItem:null,currentTab:null},setup(e){const h=e,{musicItem:a,currentTab:u}=G(h),v=B(),w=D(),f=c(()=>v.currentSong),d=c(()=>w.localMusics),x=c(()=>{var r,o;return a.value.title===((r=f.value)==null?void 0:r.title)&&a.value.artist===((o=f.value)==null?void 0:o.artist)}),_=c(()=>!!d.value.find(r=>r.title===a.value.title&&r.artist===a.value.artist)),L=()=>{w.addToLocal(a.value),V({text:"\u5DF2\u6DFB\u52A0\u5230\u672C\u5730"})},I=()=>{w.removeFromLocal(a.value),V({text:"\u79FB\u9664\u6210\u529F"})};return(r,o)=>{const n=Z("lazy");return l(),T("div",{class:j(["music-item",{"is-active":t(x)}])},[s("div",ne,[$(s("img",{class:"w-10 h-10",alt:t(a).title},null,8,le),[[n,t(a).cover]]),s("span",ce,z(t(a).title),1),s("span",de,[ue,P(z(t(a).artist),1)]),t(m).ONLINE===t(u)&&!t(_)?(l(),k(t(p),{key:0,class:"p-2",theme:"outline",size:"16",fill:"#333",onClick:N(L,["stop"])},null,8,["onClick"])):M("",!0),t(m).LOCALE===t(u)?(l(),k(t(Y),{key:1,class:"p-2",theme:"outline",size:"16",fill:"#333",onClick:N(I,["stop"])},null,8,["onClick"])):M("",!0)])],2)}}});var he=S(me,[["__scopeId","data-v-743b8560"]]);const ke={class:"musiclist my-8"},ve={class:"music-header mb-5"},we={class:"music-tabs"},ge={class:"music-mode"},fe=E({__name:"MusicList",setup(e){const h=B(),a=D(),u=c(()=>a.currentTab),v=c(()=>a.currentMode),w=c(()=>a.onlineMusics),f=c(()=>a.localMusics),d=K(u.value),x=c(()=>d.value===m.ONLINE?w.value:f.value),_=r=>{d.value=r},L=r=>{a.setCurrentMode(r)},I=(r,o)=>{a.setCurrentTab(d.value),h.selectPlay({sequenceList:x.value,currentIndex:o})};return Q(()=>{a.fetchMusics()}),(r,o)=>(l(),T("div",ke,[s("div",ve,[s("div",we,[s("span",{class:j({"is-active":d.value===t(m).LOCALE}),onClick:o[0]||(o[0]=n=>_(t(m).LOCALE))},"\u672C\u5730",2),s("span",{class:j(["ml-2.5",{"is-active":d.value===t(m).ONLINE}]),onClick:o[1]||(o[1]=n=>_(t(m).ONLINE))},"\u5728\u7EBF",2)]),s("span",ge,[t(v)===t(g).CARD?(l(),k(t(ee),{key:0,theme:"outline",size:"24",fill:"#6b7280",onClick:o[2]||(o[2]=n=>L(t(g).LIST))})):M("",!0),t(v)===t(g).LIST?(l(),k(t(te),{key:1,theme:"outline",size:"24",fill:"#6b7280",onClick:o[3]||(o[3]=n=>L(t(g).CARD))})):M("",!0)])]),s("div",{class:j(["music-list",{"mode-card":t(v)===t(g).CARD}])},[(l(!0),T(U,null,X(t(x),(n,A)=>(l(),k(he,{key:n.title+n.artist,"music-item":n,"current-tab":d.value,onClick:xe=>I(n,A)},null,8,["music-item","current-tab","onClick"]))),128))],2)]))}});var Le=S(fe,[["__scopeId","data-v-833ca982"]]);export{Le as default};
