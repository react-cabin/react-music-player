import{z as A,j as d,_ as M,d as T,b as f,A as y,k as D,q as E,v as H,f as h,t as F,T as $,B as G,C as P,i as O,D as B,c as m,E as R,e as j,u as a,l as Z,S as k,h as z,F as N,p as I,s as q,x as U,r as J,G as K,H as Q}from"./index.ad642c99.js";var X={size:"1em",strokeWidth:4,strokeLinecap:"round",strokeLinejoin:"round",rtl:!1,theme:"outline",colors:{outline:{fill:"#333",background:"transparent"},filled:{fill:"#333",background:"#FFF"},twoTone:{fill:"#333",twoTone:"#2F88FF"},multiColor:{outStrokeColor:"#333",outFillColor:"#2F88FF",innerStrokeColor:"#FFF",innerFillColor:"#43CCF8"}},prefix:"i"};function Y(){return"icon-"+((1+Math.random())*4294967296|0).toString(16).substring(1)}function tt(t,r,o){var e=typeof r.fill=="string"?[r.fill]:r.fill||[],s=[],i=r.theme||o.theme;switch(i){case"outline":s.push(typeof e[0]=="string"?e[0]:"currentColor"),s.push("none"),s.push(typeof e[0]=="string"?e[0]:"currentColor"),s.push("none");break;case"filled":s.push(typeof e[0]=="string"?e[0]:"currentColor"),s.push(typeof e[0]=="string"?e[0]:"currentColor"),s.push("#FFF"),s.push("#FFF");break;case"two-tone":s.push(typeof e[0]=="string"?e[0]:"currentColor"),s.push(typeof e[1]=="string"?e[1]:o.colors.twoTone.twoTone),s.push(typeof e[0]=="string"?e[0]:"currentColor"),s.push(typeof e[1]=="string"?e[1]:o.colors.twoTone.twoTone);break;case"multi-color":s.push(typeof e[0]=="string"?e[0]:"currentColor"),s.push(typeof e[1]=="string"?e[1]:o.colors.multiColor.outFillColor),s.push(typeof e[2]=="string"?e[2]:o.colors.multiColor.innerStrokeColor),s.push(typeof e[3]=="string"?e[3]:o.colors.multiColor.innerFillColor);break}return{size:r.size||o.size,strokeWidth:r.strokeWidth||o.strokeWidth,strokeLinecap:r.strokeLinecap||o.strokeLinecap,strokeLinejoin:r.strokeLinejoin||o.strokeLinejoin,colors:s,id:t}}var et=Symbol("icon-context");function V(t,r,o){var e={name:"icon-"+t,props:["size","strokeWidth","strokeLinecap","strokeLinejoin","theme","fill","spin"],setup:function(i){var c=Y(),u=A(et,X);return function(){var p=i.size,_=i.strokeWidth,w=i.strokeLinecap,v=i.strokeLinejoin,n=i.theme,l=i.fill,g=i.spin,S=tt(c,{size:p,strokeWidth:_,strokeLinecap:w,strokeLinejoin:v,theme:n,fill:l},u),x=[u.prefix+"-icon"];return x.push(u.prefix+"-icon-"+t),r&&u.rtl&&x.push(u.prefix+"-icon-rtl"),g&&x.push(u.prefix+"-icon-spin"),d("span",{class:x.join(" ")},[o(S)])}}};return e}var ot=V("folder-download",!0,function(t){return d("svg",{width:t.size,height:t.size,viewBox:"0 0 48 48",fill:"none"},[d("path",{d:"M5 8C5 6.89543 5.89543 6 7 6H19L24 12H41C42.1046 12 43 12.8954 43 14V40C43 41.1046 42.1046 42 41 42H7C5.89543 42 5 41.1046 5 40V8Z",fill:t.colors[1],stroke:t.colors[0],"stroke-width":t.strokeWidth,"stroke-linejoin":t.strokeLinejoin},null),d("path",{d:"M30 28L23.9933 34L18 28.0134",stroke:t.colors[2],"stroke-width":t.strokeWidth,"stroke-linecap":t.strokeLinecap,"stroke-linejoin":t.strokeLinejoin},null),d("path",{d:"M24 20V34",stroke:t.colors[2],"stroke-width":t.strokeWidth,"stroke-linecap":t.strokeLinecap,"stroke-linejoin":t.strokeLinejoin},null)])}),st=V("delete",!1,function(t){return d("svg",{width:t.size,height:t.size,viewBox:"0 0 48 48",fill:"none"},[d("path",{d:"M9 10V44H39V10H9Z",fill:t.colors[1],stroke:t.colors[0],"stroke-width":t.strokeWidth,"stroke-linejoin":t.strokeLinejoin},null),d("path",{d:"M20 20V33",stroke:t.colors[2],"stroke-width":t.strokeWidth,"stroke-linecap":t.strokeLinecap,"stroke-linejoin":t.strokeLinejoin},null),d("path",{d:"M28 20V33",stroke:t.colors[2],"stroke-width":t.strokeWidth,"stroke-linecap":t.strokeLinecap,"stroke-linejoin":t.strokeLinejoin},null),d("path",{d:"M4 10H44",stroke:t.colors[0],"stroke-width":t.strokeWidth,"stroke-linecap":t.strokeLinecap,"stroke-linejoin":t.strokeLinejoin},null),d("path",{d:"M16 10L19.289 4H28.7771L32 10H16Z",fill:t.colors[1],stroke:t.colors[0],"stroke-width":t.strokeWidth,"stroke-linejoin":t.strokeLinejoin},null)])});const rt={class:"mt-toast"},at={class:"mt-toast__text"},it=T({__name:"Toast",props:{text:null,show:{type:Boolean}},setup(t){return(r,o)=>(f(),y($,{name:"mt-toast"},{default:D(()=>[E(h("div",rt,[h("div",at,F(t.text),1)],512),[[H,t.show]])]),_:1}))}});var nt=M(it,[["__scopeId","data-v-063c418e"]]);let L,C,b;function W({text:t,duration:r=2e3,appendTo:o=document.body}){L&&(clearTimeout(L),e()),C=G(nt,{text:t,show:!0}),b=document.createElement("div"),o.appendChild(b),C.mount(b),L=setTimeout(()=>{e(),L=void 0},r);function e(){C.unmount(),o.removeChild(b)}}const lt=t=>(q("data-v-016508fa"),t=t(),U(),t),ct={class:"flex items-center"},ut=["alt"],dt={class:"ml-2.5 text-sm text-gray-800"},ht={class:"text-xs text-gray-500"},mt=lt(()=>h("i",{class:"mx-1.5"},"-",-1)),vt=T({__name:"MusicItem",props:{musicItem:null,currentTab:null},setup(t){const r=t,{musicItem:o,currentTab:e}=P(r),s=O(),i=B(),c=m(()=>s.currentSong),u=m(()=>i.localMusics),p=m(()=>{var n,l;return o.value.title===((n=c.value)==null?void 0:n.title)&&o.value.artist===((l=c.value)==null?void 0:l.artist)}),_=m(()=>!!u.value.find(n=>n.title===o.value.title&&n.artist===o.value.artist)),w=()=>{i.addToLocal(o.value),W({text:"\u5DF2\u6DFB\u52A0\u5230\u672C\u5730"})},v=()=>{i.removeFromLocal(o.value),W({text:"\u79FB\u9664\u6210\u529F"})};return(n,l)=>{const g=R("lazy");return f(),j("li",{class:I(["music-item",{"is-active":a(p)}])},[h("div",ct,[E(h("img",{class:"w-10 h-10",alt:a(o).title},null,8,ut),[[g,a(o).cover]]),h("span",dt,F(a(o).title),1),h("span",ht,[mt,Z(F(a(o).artist),1)])]),a(k).ONLINE===a(e)&&!a(_)?(f(),y(a(ot),{key:0,class:"p-2",theme:"outline",size:"16",fill:"#333",onClick:z(w,["stop"])},null,8,["onClick"])):N("",!0),a(k).LOCALE===a(e)?(f(),y(a(st),{key:1,class:"p-2",theme:"outline",size:"16",fill:"#333",onClick:z(v,["stop"])},null,8,["onClick"])):N("",!0)],2)}}});var kt=M(vt,[["__scopeId","data-v-016508fa"]]);const ft={class:"musiclist mt-8"},pt={class:"music-tabs"},_t=T({__name:"MusicList",setup(t){const r=O(),o=B(),e=m(()=>o.currentTab),s=m(()=>o.onlineMusics),i=m(()=>o.localMusics),c=J(e.value),u=m(()=>c.value===k.ONLINE?s.value:i.value),p=v=>{c.value=v},_=(v,n)=>{o.setCurrentTab(c.value),r.selectPlay({sequenceList:u.value,currentIndex:n})};w();function w(){o.fetchMusics()}return(v,n)=>(f(),j("div",ft,[h("div",pt,[h("span",{class:I({"is-active":c.value===a(k).LOCALE}),onClick:n[0]||(n[0]=l=>p(a(k).LOCALE))},"\u672C\u5730",2),h("span",{class:I(["ml-2.5",{"is-active":c.value===a(k).ONLINE}]),onClick:n[1]||(n[1]=l=>p(a(k).ONLINE))},"\u5728\u7EBF",2)]),(f(!0),j(K,null,Q(a(u),(l,g)=>(f(),y(kt,{key:l.title+l.artist,"music-item":l,"current-tab":c.value,onClick:S=>_(l,g)},null,8,["music-item","current-tab","onClick"]))),128))]))}});var gt=M(_t,[["__scopeId","data-v-d64aa762"]]);export{gt as default};
