import{I as f,c as t,r as x,u as A,a as d,w as D,P as F,g as oe,o as se,b as l,_ as p,d as ee,e as ie,f as W,h as te,i as r,n as E,j as w,k as le,t as P,l as ne,m as H,p as R,q as re,v as ae,s as ce,x as V,y as ue,z as q,A as de,B as he}from"./index.fc7be351.js";var ke=f("go-end",!0,function(e){return t("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},[t("path",{d:"M14 12L26 24L14 36",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),t("path",{d:"M34 12V36",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null)])}),fe=f("go-start",!0,function(e){return t("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},[t("path",{d:"M34 36L22 24L34 12",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),t("path",{d:"M14 12V36",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null)])}),ve=f("pause-one",!1,function(e){return t("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},[t("path",{d:"M24 44C35.0457 44 44 35.0457 44 24C44 12.9543 35.0457 4 24 4C12.9543 4 4 12.9543 4 24C4 35.0457 12.9543 44 24 44Z",fill:e.colors[1],stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linejoin":e.strokeLinejoin},null),t("path",{d:"M19 18V30",stroke:e.colors[2],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),t("path",{d:"M29 18V30",stroke:e.colors[2],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null)])}),ge=f("play",!0,function(e){return t("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},[t("path",{d:"M24 44C35.0457 44 44 35.0457 44 24C44 12.9543 35.0457 4 24 4C12.9543 4 4 12.9543 4 24C4 35.0457 12.9543 44 24 44Z",fill:e.colors[1],stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linejoin":e.strokeLinejoin},null),t("path",{d:"M20 24V17.0718L26 20.5359L32 24L26 27.4641L20 30.9282V24Z",fill:e.colors[3],stroke:e.colors[2],"stroke-width":e.strokeWidth,"stroke-linejoin":e.strokeLinejoin},null)])}),me=f("play-cycle",!0,function(e){return t("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},[t("path",{d:"M4 25C4 18.3502 9.39624 13 16 13H44",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),t("path",{d:"M38 7L44 13L38 19",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),t("path",{d:"M44 23C44 29.6498 38.6038 35 32 35H4",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),t("path",{d:"M10 41L4 35L10 29",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null)])}),_e=f("play-once",!0,function(e){return t("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},[t("path",{d:"M43.8233 25.2305C43.7019 25.9889 43.5195 26.727 43.2814 27.4395C42.763 28.9914 41.9801 30.4222 40.9863 31.6785C38.4222 34.9201 34.454 37 30 37H16C9.39697 37 4 31.6785 4 25C4 18.3502 9.39624 13 16 13H44",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),t("path",{d:"M38 7L44 13L38 19",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),t("path",{d:"M24 19V31",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),t("path",{d:"M24 19L21 22L19.5 23.5",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null)])}),we=f("shuffle-one",!0,function(e){return t("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},[t("path",{d:"M40 33L44 37L40 41",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),t("path",{d:"M40 7L44 11L40 15",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),t("path",{d:"M44 11H37C29.8203 11 24 16.8203 24 24C24 31.1797 29.8203 37 37 37H44",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap},null),t("path",{d:"M4 37H11C18.1797 37 24 31.1797 24 24C24 16.8203 18.1797 11 11 11H4",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap},null)])}),Ce=f("volume-mute",!0,function(e){return t("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},[t("rect",{opacity:"0.01",x:"30",y:"18",width:"13",height:"13",fill:e.colors[2]},null),t("mask",{id:e.id+"603476ab",maskUnits:"userSpaceOnUse",x:"30",y:"18",width:"13",height:"13",style:{maskType:"alpha"}},[t("rect",{x:"30",y:"18",width:"13",height:"13",fill:e.colors[2]},null)]),t("g",{mask:"url(#"+e.id+"603476ab)"},[t("path",{d:"M40.7348 20.2858L32.2495 28.7711",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),t("path",{d:"M32.2496 20.2858L40.7349 28.7711",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null)]),t("path",{d:"M24 6V42C17 42 11.7985 32.8391 11.7985 32.8391H6C4.89543 32.8391 4 31.9437 4 30.8391V17.0108C4 15.9062 4.89543 15.0108 6 15.0108H11.7985C11.7985 15.0108 17 6 24 6Z",fill:e.colors[1],stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linejoin":e.strokeLinejoin},null)])}),Le=f("volume-notice",!0,function(e){return t("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},[t("path",{d:"M24 6V42C17 42 11.7985 32.8391 11.7985 32.8391H6C4.89543 32.8391 4 31.9437 4 30.8391V17.0108C4 15.9062 4.89543 15.0108 6 15.0108H11.7985C11.7985 15.0108 17 6 24 6Z",fill:e.colors[1],stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linejoin":e.strokeLinejoin},null),t("path",{d:"M32 15L32 15C32.6232 15.5565 33.1881 16.1797 33.6841 16.8588C35.1387 18.8504 36 21.3223 36 24C36 26.6545 35.1535 29.1067 33.7218 31.0893C33.2168 31.7885 32.6391 32.4293 32 33",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),t("path",{d:"M34.2359 41.1857C40.0836 37.6953 44 31.305 44 24C44 16.8085 40.2043 10.5035 34.507 6.97906",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap},null)])}),ye=f("volume-small",!0,function(e){return t("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},[t("path",{d:"M24 6V42C17 42 11.7985 32.8391 11.7985 32.8391H6C4.89543 32.8391 4 31.9437 4 30.8391V17.0108C4 15.9062 4.89543 15.0108 6 15.0108H11.7985C11.7985 15.0108 17 6 24 6Z",fill:e.colors[1],stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linejoin":e.strokeLinejoin},null),t("path",{d:"M32 15L32 15C32.6232 15.5565 33.1881 16.1797 33.6841 16.8588C35.1387 18.8504 36 21.3223 36 24C36 26.6545 35.1535 29.1067 33.7218 31.0893C33.2168 31.7885 32.6391 32.4293 32 33",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null)])});function je(){const e=x(null),n=x(null),o=A(),s=d(()=>o.playing),a=d(()=>s.value?"playing":""),i=(u,m)=>{const k=getComputedStyle(u).transform,v=getComputedStyle(m).transform;u.style.transform=k==="none"?v:v.concat(k)};return D(s,u=>{u||i(e.value,n.value)}),{cdRef:e,cdCoverRef:n,cdClass:a}}function Me(){const e=A(),n=d(()=>e.playMode);return{currentMode:d(()=>{const a=n.value;return a===F.SEQUENCE?me:a===F.RANDOM?we:_e}),changeMode:()=>{const a=(n.value+1)%3;e.changeMode(a)}}}var K;const b=typeof window!="undefined",We=e=>typeof e=="string",N=()=>{};b&&((K=window==null?void 0:window.navigator)==null?void 0:K.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function xe(e){return oe()?(se(e),!0):!1}function be(e){var n;const o=l(e);return(n=o==null?void 0:o.$el)!=null?n:o}const Te=b?window:void 0;b&&window.document;b&&window.navigator;b&&window.location;function Q(...e){let n,o,s,a;if(We(e[0])?([o,s,a]=e,n=Te):[n,o,s,a]=e,!n)return N;let i=N;const u=D(()=>be(n),k=>{i(),k&&(k.addEventListener(o,s,a),i=()=>{k.removeEventListener(o,s,a),i=N})},{immediate:!0,flush:"post"}),m=()=>{u(),i()};return xe(m),m}const O=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},I="__vueuse_ssr_handlers__";O[I]=O[I]||{};O[I];var Y;(function(e){e.UP="UP",e.RIGHT="RIGHT",e.DOWN="DOWN",e.LEFT="LEFT",e.NONE="NONE"})(Y||(Y={}));const ze={class:"bar-inner"},Be=["onMousedown","onMousemove","onMouseup","onTouchstart","onTouchmove","onTouchend"],Pe=ee({__name:"ProgressBar",props:{progress:null,hasBtn:{type:Boolean,default:!0},barColor:{default:""}},emits:["progress-changing","progress-changed"],setup(e,{emit:n}){const o=e,s=16,a=x(0),i=x(null),u=x(null),m=d(()=>({width:`${a.value}px`,backgroundColor:o.barColor})),k=d(()=>({transform:`translate3d(${a.value}px,0,0)`}));D(()=>o.progress,c=>{if(!i.value)return;const h=i.value.clientWidth-(o.hasBtn?s:0);a.value=h*c}),ie(()=>{if(!i.value)return;const c=i.value.clientWidth-(o.hasBtn?s:0);a.value=c*o.progress});const v={x1:0,beginWidth:0};let C=!1;const T=c=>{!u.value||(C=!0,v.x1=c instanceof TouchEvent?c.touches[0].pageX:c.pageX,v.beginWidth=u.value.clientWidth)},z=c=>{if(!C||!i.value)return;const h=(c instanceof TouchEvent?c.touches[0].pageX:c.pageX)-v.x1,M=v.beginWidth+h,y=i.value.clientWidth-(o.hasBtn?s:0),_=Math.min(1,Math.max(M/y,0));a.value=y*_,n("progress-changing",_)},L=()=>{if(!C||!i.value||!u.value)return;C=!1;const c=i.value.clientWidth-(o.hasBtn?s:0),h=u.value.clientWidth/c;n("progress-changed",h)},S=c=>{if(!i.value)return;const h=i.value.getBoundingClientRect(),M=c.pageX-h.left,y=i.value.clientWidth-(o.hasBtn?s:0),_=Math.min(1,Math.max(M/y,0));n("progress-changed",_)};return Q(document,"mouseup",L),Q(document,"touchend",L),(c,h)=>(W(),te("div",{ref_key:"barRef",ref:i,class:"progress-bar",onClick:S},[r("div",ze,[r("div",{ref_key:"progressRef",ref:u,class:"progress",style:E(l(m))},null,4),r("div",{class:"progress-btn-wrapper",style:E(l(k)),onMousedown:w(T,["prevent"]),onMousemove:w(z,["prevent"]),onMouseup:w(L,["prevent"]),onTouchstart:w(T,["prevent"]),onTouchmove:w(z,["prevent"]),onTouchend:w(L,["prevent"]),onClick:h[0]||(h[0]=w(()=>{},["stop"]))},[r("div",{class:"progress-btn",style:E({backgroundColor:o.barColor})},null,4)],44,Be)])],512))}});var J=p(Pe,[["__scopeId","data-v-72f44208"]]);const Ve=e=>(de("data-v-3f4b8370"),e=e(),he(),e),Se={class:"mt-8 sm:mt-28"},Ee={class:"player-title"},He=ne(" \u6211\u7684\u79C1\u4EBA\u97F3\u4E50\u574A > "),Re={class:"flex items-center mt-6 flex-col-reverse sm:flex-row"},Ne={class:"flex-1 w-full"},Oe={class:"flex items-center h-9 mt-6 justify-center sm:mt-0 sm:justify-start"},Ie={class:"text-xl text-gray-800 text"},Ae={class:"text-sm text-gray-600 ml-1"},De=Ve(()=>r("i",{class:"mx-1.5.5.5.5.5"},"-",-1)),Ze={class:"flex items-center mt-8"},$e={class:"music-time mr-1.5"},Ue={class:"music-time ml-1.5"},Xe={class:"player-control flex items-center justify-between mt-10"},Ge={class:"inline-flex items-center"},Fe={class:"inline-flex items-center"},qe={class:"w-16 ml-1.5"},Ke={class:"w-[180px] h-[180px] sm:ml-5"},Qe=["src","alt"],Ye=ee({__name:"Player",setup(e){const n=A(),o=d(()=>n.playing),s=d(()=>n.currentSong),a=d(()=>n.currentTime),i=d(()=>n.volume),{currentMode:u,changeMode:m}=Me(),{cdRef:k,cdCoverRef:v,cdClass:C}=je(),T=d(()=>o.value?ve:ge),z=d(()=>{var j,B;const g=(B=(j=s.value)==null?void 0:j.duration)!=null?B:0;return a.value/g}),L=d(()=>i.value===0?Ce:i.value<.3?ye:Le),S=()=>{n.setPlaying(!o.value)},c=()=>V.emit("prev"),h=()=>V.emit("next"),M=g=>{n.setProgressChanging(!0),n.setCurrentTime(s.value.duration*g)},y=g=>{n.setProgressChanging(!1);const j=s.value.duration*g;n.setCurrentTime(j),V.emit("changeTime",j),o.value||n.setPlaying(!0)},_=g=>{n.setVolume(g),V.emit("changeVolume",g)};return(g,j)=>{var Z,$,U,X,G;const B=ue("router-link");return W(),te("div",Se,[r("h1",Ee,[t(B,{to:"/musics"},{default:le(()=>[He]),_:1})]),r("div",Re,[r("div",Ne,[r("div",Oe,[r("span",Ie,P((Z=l(s))==null?void 0:Z.title),1),r("span",Ae,[De,ne(" "+P(($=l(s))==null?void 0:$.artist),1)])]),r("div",Ze,[r("span",$e,P(l(q)(l(a))),1),t(J,{class:"flex-1",progress:l(z),onProgressChanging:M,onProgressChanged:y},null,8,["progress"]),r("span",Ue,P(l(q)((U=l(s))==null?void 0:U.duration)),1)]),r("div",Xe,[(W(),H(R(l(u)),{class:"cursor-pointer",theme:"outline",size:"28","stroke-width":3,fill:"#4b5563",onClick:l(m)},null,8,["onClick"])),r("span",Ge,[t(l(fe),{class:"cursor-pointer",theme:"outline",size:"32",fill:"#4b5563","stroke-width":3,onClick:c}),(W(),H(R(l(T)),{class:"cursor-pointer ml-5",theme:"outline",size:"40",fill:"#4b5563","stroke-width":3,onClick:S})),t(l(ke),{class:"cursor-pointer ml-5",theme:"outline",size:"32",fill:"#4b5563","stroke-width":3,onClick:h})]),r("div",Fe,[(W(),H(R(l(L)),{theme:"outline",size:"16",fill:"#4b5563"})),r("div",qe,[t(J,{progress:l(i),onProgressChanging:_,onProgressChanged:_},null,8,["progress"])])])])]),r("div",Ke,[re(r("div",{ref_key:"cdRef",ref:k},[r("img",{ref_key:"cdCoverRef",ref:v,class:ce(["w-full h-full rounded-full",l(C)]),src:(X=l(s))==null?void 0:X.cover,alt:(G=l(s))==null?void 0:G.title},null,10,Qe)],512),[[ae,l(s)]])])])])}}});var pe=p(Ye,[["__scopeId","data-v-3f4b8370"]]);export{pe as default};
